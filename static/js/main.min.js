!function () {
    const documentElement = document.documentElement;

    // Remove no-js class and add js class
    if (documentElement.classList.remove("no-js"), documentElement.classList.add("js"), document.body.classList.contains("has-animations")) {
        const sr = window.sr = ScrollReveal();

        // Configure ScrollReveal to reveal immediately without waiting for scroll
        // Setting viewFactor to 0 and reset to false ensures elements appear on page load

        // Hero elements - reveal in sequence from left (starts immediately)
        sr.reveal(".hero-title, .hero-paragraph, .hero-cta", {
            duration: 1000,
            distance: "40px",
            easing: "cubic-bezier(0.5, -0.01, 0, 1.005)",
            origin: "left",
            interval: 150,
            viewFactor: 0,
            reset: false,
            delay: 0
        });

        // Hero illustration - reveal from right (starts after hero elements: 3 elements * 150ms = 450ms)
        sr.reveal(".hero-illustration", {
            duration: 1000,
            distance: "40px",
            easing: "cubic-bezier(0.5, -0.01, 0, 1.005)",
            origin: "right",
            interval: 150,
            viewFactor: 0,
            reset: false,
            delay: 450
        });

        // Features - reveal from bottom in sequence (starts after hero illustration: 450ms + 150ms = 600ms)
        sr.reveal(".feature", {
            duration: 1000,
            distance: "40px",
            easing: "cubic-bezier(0.5, -0.01, 0, 1.005)",
            interval: 100,
            origin: "bottom",
            scale: 0.9,
            viewFactor: 0,
            reset: false,
            delay: 600
        });

        // Calculate delay for pricing tables based on number of features
        const featureCount = document.querySelectorAll(".feature").length;
        const pricingDelay = 600 + (featureCount * 100); // Base delay + (features * interval)

        // Pricing tables - reveal all elements in sequence (starts after features complete)
        document.querySelectorAll(".pricing-table").forEach((table, tableIndex) => {
            const headers = [].slice.call(table.querySelectorAll(".pricing-table-header"));
            const features = [].slice.call(table.querySelectorAll(".pricing-table-features li"));
            const ctas = [].slice.call(table.querySelectorAll(".pricing-table-cta"));
            const allElements = headers.concat(features).concat(ctas);

            sr.reveal(allElements, {
                duration: 600,
                distance: "20px",
                easing: "cubic-bezier(0.5, -0.01, 0, 1.005)",
                interval: 100,
                origin: "bottom",
                viewFactor: 0,
                reset: false,
                delay: pricingDelay + (tableIndex * 200) // Stagger each table by 200ms
            });
        });
    }
}();
